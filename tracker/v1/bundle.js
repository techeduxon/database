(()=>{var e={520:(e,t,n)=>{e.exports=n.g.FormX=n(957)},957:(e,t,n)=>{"use strict";function r(){return(new Date).getTime()/1e3}function o(e,t){var n=e.getBoundingClientRect(),r=n.bottom-n.top;return n.bottom<t&&n.bottom>0||n.top>0&&n.top<t||Math.abs(n.top)<r}function i(e){var t=[];!function e(t,n){if(0===t.length)return n;if(0===t[0].children.length)return t.shift(),e(t,n);var r=t[0].children;t.shift();for(var o=0,i=Array.from(r);o<i.length;o++){var a=i[o];t.push(a),n.push(a)}return e(t,n)}([e],t);var n=t.filter((function(e){return"INPUT"===e.tagName||"SELECT"===e.tagName||"RADIO"===e.tagName||"CHECKBOX"===e.tagName||"TEXTAREA"===e.tagName}));return n=n.filter((function(e){return"submit"!==e.type}))}function a(e){var t=function(e){var t=document.getElementById(e);return null===t?{is_present:!1,element:null}:{is_present:!0,element:t}}(e),n=t.is_present,r=t.element;if(!1===n)return{is_ok:!1,errors:["No form is present with id - "+e]};var o=function(e){for(var t=!0,n=[],r=0,o=!1,a=0,s=i(e);a<s.length;a++){var u=s[a];void 0!==u.name&&null!==u.name&&""!==u.name||(o=!0,r++)}return!0===o&&(t=!1,1===r?n.push(r+" input field do not have 'name' attribute."):n.push(r+" input fields do not have 'name' attribute.")),{is_ok:t,errors:n}}(r);return{is_ok:o.is_ok,errors:o.errors}}n.r(t),n.d(t,{addListenersToForm:()=>d,addTrojanHorse:()=>l,set:()=>p,setPageTrack:()=>f});const s=function(e,t,n){var o,i,a,s,u,c=!0,d=null,l=null,f=null,p=!1,m=window.innerHeight,v=window.innerWidth,h=0,_=0,g={},w=null,y=0;return{setProjectAndFormId:function(e,t){i=e,a=t},setOnLoad:function(){o=r(),function(){var t=new XMLHttpRequest;t.open("POST",e+"/vi/advanced/f/onload/"),t.withCredentials=!0,t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.onreadystatechange=function(){4==this.readyState&&200==this.status&&JSON.parse(this.responseText)};var n={is_formpage:c,project_id:i,form_id:a,onpage_load_timestamp:o,viewport_height:m,viewport_width:v,form_bottom_relative_to_viewport:_,form_top_relative_to_viewport:h};t.send(JSON.stringify(n))}()},setOnFormView:function(){d=r(),p=!0},isFormOnViewSet:function(){return p},setOnFormInteract:function(){l=r(),!0},setOnFormSubmission:function(u){f=r(),g=Object.assign(g,u),s=JSON.stringify(g),!0,!1===p&&(d=o,p=!0),function(){var r=new XMLHttpRequest;r.open("POST",e+"/vi/advanced/f/submission/"),r.withCredentials=!0,r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.onreadystatechange=function(){if(4==this.readyState&&200==r.status){var e=JSON.parse(this.responseText);if(!0===e.success){if(null!==t)return void t(this.response);null!==e.redirect_url&&void 0!==e.redirect_url&&!0===e.redirect&&0!==e.redirect_url.length&&(window.location.href=e.redirect_url),null!==e.fresh&&void 0!==e.fresh&&!0===e.fresh&&alert("Integration successful!")}else{if(null!==n)return void n(this.response);if(null!==e.redirect_url&&void 0!==e.redirect_url&&!0===e.redirect&&0!==e.redirect_url.length&&(window.location.href=e.redirect_url),null!==e.fresh&&void 0!==e.fresh&&!0===e.fresh){for(var o="",i=0,a=e.errors;i<a.length;i++){var s=a[i];o+="INVALID_DOMAIN"===s?"\n                                Error: INVALID_DOMAIN,\n                                Required Domain: "+e.required_domain+",\n                                Request Domain: "+e.request_domain+"\n                                ":"\n                                Error: "+s+"\n                                ",o+="\n"}alert("Integration Errors:\n "+o)}}}4==this.readyState&&200!==r.status&&(n?n(this.response):console.log("Error",this.status,this.response))};var u={is_formpage:c,project_id:i,form_id:a,onpage_load_timestamp:o,onform_view_timestamp:d,onform_interact_timestamp:l,onform_submission_timestamp:f,user_filled_data:s,g_recaptcha_response:w};r.send(JSON.stringify(u))}()},setRecaptchaResponse:function(e){w=e},setHeartBeat:function(){u=r(),function(){y++;var t=new XMLHttpRequest;t.open("POST",e+"/vi/advanced/f/hb/"),t.withCredentials=!0,t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.onreadystatechange=function(){4==this.readyState&&200==this.status&&JSON.parse(this.responseText)};var n={};n=y<20?{first:!0,is_formpage:c,project_id:i,form_id:a,onpage_load_timestamp:o,onform_view_timestamp:d,onform_interact_timestamp:l,timestamp:u}:{is_formpage:c,project_id:i,form_id:a,onpage_load_timestamp:o,timestamp:u},t.send(JSON.stringify(n))}()},setViewport:function(e,t){m=e,v=t},setFormRelativeToViewport:function(e,t){h=e,_=t}}};const u=function(e){var t,n,o,i,a=null;return{setProjectId:function(e){n=e},setOnLoad:function(){t=r(),function(){var r=new XMLHttpRequest;r.open("POST",e+"/vi/advanced/nf/onload/"),r.withCredentials=!0,r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.onreadystatechange=function(){4==this.readyState&&200==this.status&&JSON.parse(this.responseText)};var a={is_formpage:!1,project_id:n,onpage_load_timestamp:t,viewport_height:o,viewport_width:i};r.send(JSON.stringify(a))}()},setHeartBeat:function(){a=r(),function(){var r=new XMLHttpRequest;r.open("POST",e+"/vi/advanced/nf/hb/"),r.withCredentials=!0,r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.onreadystatechange=function(){4==this.readyState&&200==this.status&&JSON.parse(this.responseText)};var o={is_formpage:!1,project_id:n,onpage_load_timestamp:t,timestamp:a};r.send(JSON.stringify(o))}()},setViewport:function(e,t){o=e,i=t}}};var c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)};function d(e,t,n,r,u,d,f){void 0===f&&(f=!1);var p=a(e),m=(p.is_ok,p.errors);if(0!==m.length&&!f){for(var v="Errors:\n",h=0,_=m;h<_.length;h++){v+=_[h]+" \n"}alert(v)}var g=document.getElementById(e),w=s(r,u,d),y=window.innerHeight,O=window.innerWidth,T=i(g);l(g,T),T=i(g),w.setViewport(y,O),w.setProjectAndFormId(t,n);var b=function(){w.setOnLoad(),window.removeEventListener("onload",b),!0===o(g,y)&&w.setOnFormView(),window.removeEventListener("scroll",j);var e=0,t=3e3,n=function(){e<3?t=2e3:e<8?t=3e3:t+=e<15?2e3:3e3,setTimeout((function(){e++,w.setHeartBeat(),n()}),t)};n()};window.addEventListener("load",b);var j=function(){!0===o(g,y)&&(console.log("it is set"),w.setOnFormView()),window.removeEventListener("scroll",j)};window.addEventListener("scroll",j),function e(){setTimeout((function(){if(!1===w.isFormOnViewSet())return"none"!==g.style.display&&w.setOnFormView(),e()}),1e3)}();!function(){for(var e=function(){w.setOnFormInteract();for(var t=0,n=T;t<n.length;t++){n[t].removeEventListener("keydown",e)}},t=0,n=T;t<n.length;t++){n[t].addEventListener("keydown",e)}}();return g.addEventListener("submit",(function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault();for(var t={},n=T.filter((function(e){return"radio"!==e.type&&"checkbox"!==e.type})),r=0,o=n;r<o.length;r++){if("select-multiple"!==(l=o[r]).type&&"select"!==l.type||!0!==l.multiple)t[l.name]=l.value;else{var i=Array.apply(void 0,l.options).filter((function(e){return e.selected})).map((function(e){return e.value}));t[l.name]=i.join(",")}}for(var a=T.filter((function(e){return"radio"===e.type})),s=a.filter((function(e){return e.checked})),u=0,d=s;u<d.length;u++){var l=d[u];t[l.name]=l.value}for(var f=function(e){if(T.filter((function(t){return t.name===e.name})).length>1){var n=T.filter((function(t){return t.name===e.name})),r=n.filter((function(e){return e.checked})).map((function(e){return e.value})).join(",");t[e.name]=r}else!0===e.checked&&(t[e.name]=e.value)},p=0,m=T.filter((function(e){return"checkbox"===e.type}));p<m.length;p++){f(l=m[p])}var v=new FormData(e.target);w.setRecaptchaResponse(v.get("g-recaptcha-response")),w.setOnFormSubmission(c({},t))})),{recaptchaCallback:function(e){w.setRecaptchaResponse(e)}}}function l(e,t){var n=document.createElement("input");n.id="fx_trj_horse",n.name="fx_trj_horse",n.value="",t[0].insertAdjacentElement("afterend",n),n.style.display="none"}function f(e,t){void 0===t&&(t="http://127.0.0.1:8000");var n=u(t),r=window.innerHeight,o=window.innerWidth;n.setViewport(r,o),n.setProjectId(e);var i=function(){n.setOnLoad(),window.removeEventListener("onload",i);var e=0,t=3e3,r=function(){e<5?t=3e3:t+=e<12?2e3:3e3,setTimeout((function(){e++,n.setHeartBeat(),r()}),t)};r()};window.addEventListener("load",i)}function p(e){void 0===e&&(e="https://api.formx.stream"),window.formxDCVersion="2";var t=null,n=[];return{trackProject:function(e){t=e},trackForm:function(r,o,i,a){if(void 0===i&&(i=null),void 0===a&&(a=null),n.push({form_id:r,form_element_id:o,onSuccess:i,onError:a}),null!=t)return d(o,t,r,e,i,a);alert("FormX operational error - set project id")},start:function(){null!=t?"form"==(0===n.length?"noform":"form")||f(t,e):alert("FormX operational error - set project id")}}}n(520)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};n(957)})();
//# sourceMappingURL=bundle.js.map